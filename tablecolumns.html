<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Table as Collection of Columns
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="A .NET library to work with table data type."/>
    <meta name="author" content="Microsoft Research"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/Angara.Table/content/style.css" />
    <script type="text/javascript" src="/Angara.Table/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/Microsoft/Angara.Table">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/Angara.Table/index.html">Angara.Table</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Table-as-Collection-of-Columns" class="anchor" href="#Table-as-Collection-of-Columns">Table as Collection of Columns</a></h1>
<p>A table is an immutable collection of named columns.
Column values are represented as lazy one-dimensional immutable array of one of the supported types.
Heights of all columns in a table are equal.
Columns names are arbitrary strings;
duplicate names are allowed but may cause ambiguity in some API functions.</p>
<p>Here we describe how the column and the column-based table are represented.
See also <a href="tablerows.html">Table as Collection of Rows</a> to work with table rows.</p>
<h2><a name="Column" class="anchor" href="#Column">Column</a></h2>
<p>A column is represented as an immutable type <code>Angara.Data.Column</code> which
keeps column name, height and values. Column name cannot be a null string.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="i">Column</span> <span class="o">=</span>
    <span class="c">/// Gets a name of the column.</span>
    <span class="k">member</span> <span class="i">Name</span> <span class="o">:</span> <span class="i">string</span> <span class="k">with</span> <span class="i">get</span>
    <span class="c">/// Gets a number of rows in the column.</span>
    <span class="k">member</span> <span class="i">Height</span> <span class="o">:</span> <span class="i">int</span> <span class="k">with</span> <span class="i">get</span>
    <span class="c">/// Returns column values.</span>
    <span class="k">member</span> <span class="i">Rows</span> <span class="o">:</span> <span class="i">ColumnValues</span> <span class="k">with</span> <span class="i">get</span>
</code></pre></td>
</tr>
</table>
<p>Column values are represented as an instance of discriminated union <code>Angara.Data.ColumnValues</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="i">ColumnValues</span> <span class="o">=</span>
    | <span class="i">IntColumn</span>     <span class="k">of</span> <span class="i">Lazy</span><span class="o">&lt;</span><span class="i">ImmutableArray</span><span class="o">&lt;</span><span class="i">int</span><span class="o">&gt;</span><span class="o">&gt;</span>
    | <span class="i">RealColumn</span>    <span class="k">of</span> <span class="i">Lazy</span><span class="o">&lt;</span><span class="i">ImmutableArray</span><span class="o">&lt;</span><span class="i">float</span><span class="o">&gt;</span><span class="o">&gt;</span>
    | <span class="i">StringColumn</span>  <span class="k">of</span> <span class="i">Lazy</span><span class="o">&lt;</span><span class="i">ImmutableArray</span><span class="o">&lt;</span><span class="i">string</span><span class="o">&gt;</span><span class="o">&gt;</span>
    | <span class="i">DateColumn</span>    <span class="k">of</span> <span class="i">Lazy</span><span class="o">&lt;</span><span class="i">ImmutableArray</span><span class="o">&lt;</span><span class="i">DateTime</span><span class="o">&gt;</span><span class="o">&gt;</span>
    | <span class="i">BooleanColumn</span> <span class="k">of</span> <span class="i">Lazy</span><span class="o">&lt;</span><span class="i">ImmutableArray</span><span class="o">&lt;</span><span class="i">Boolean</span><span class="o">&gt;</span><span class="o">&gt;</span>
</code></pre></td>
</tr>
</table>
<p>The <a href="https://msdn.microsoft.com/en-us/library/dn638264(v=vs.111).aspx">ImmutableArray<'a></a>
structure represents an array that cannot be changed once it is created. Use of
<a href="https://msdn.microsoft.com/en-us/library/dd233247.aspx">Lazy<'a></a> enables evaluation of
the column array on demand.</p>
<p>To create a column, use overloaded static methods <code>Column.Create</code> and <code>Column.CreateLazy</code>.
Let we have a sequence <code>xs</code> and want to create a corresponding column named <code>"x"</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">xs</span> <span class="o">=</span> <span class="i">seq</span>{ <span class="k">for</span> <span class="i">i</span> <span class="k">in</span> <span class="n">0..</span><span class="n">99</span> <span class="k">-&gt;</span> <span class="i">float</span>(<span class="i">i</span>) <span class="o">/</span> <span class="n">10.0</span>  }
</code></pre></td>
</tr>
</table>
<ul>
<li>
Use <code>Column.Create</code> to build a column from a string name and a sequence of values. 
If the given sequence is a mutable array, it is copied to guarantee immutability of the column;
if the sequence is an immutable array, it is used as is without copying;
otherwise, if none of above, an immutable array is built from the sequence.
</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">cx</span> <span class="o">=</span> <span class="i">Column</span><span class="o">.</span><span class="i">Create</span> (<span class="s">&quot;x&quot;</span>, <span class="i">xs</span>)
</code></pre></td>
</tr>
</table>
<ul>
<li>
If you provide an optional argument <code>count</code> to the <code>Column.Create</code>, the given sequence will be enumerated
only when the column values are first time accessed. The given <code>count</code> is the number of elements in the sequence.
If the real sequence length will be different than specified, a runtime exception will occur when values are requested.
</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">lazyCx</span> <span class="o">=</span> <span class="i">Column</span><span class="o">.</span><span class="i">Create</span> (<span class="s">&quot;x&quot;</span>, <span class="i">xs</span>, <span class="n">100</span>)
</code></pre></td>
</tr>
</table>
<ul>
<li>
Another way to create a lazy column is to use <code>Column.CreateLazy</code> which takes a <code>Lazy</code> instance producing an immutable array, and the number of elements.
Evalutation of the array will be performed when the column values are first time accessed.
</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">lazyCx&#39;</span> <span class="o">=</span> <span class="i">Column</span><span class="o">.</span><span class="i">CreateLazy</span> (<span class="s">&quot;x&quot;</span>, <span class="k">lazy</span>(<span class="i">ImmutableArray</span><span class="o">.</span><span class="i">CreateRange</span> <span class="i">xs</span>), <span class="n">100</span>)
</code></pre></td>
</tr>
</table>
<ul>
<li>To build a column with same values but different name, call <code>Colum.Create</code> and pass an instance of the <code>ColumnValues</code>.</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">cx2</span> <span class="o">=</span> <span class="i">Column</span><span class="o">.</span><span class="i">Create</span> (<span class="s">&quot;x2&quot;</span>, <span class="i">cx</span><span class="o">.</span><span class="i">Rows</span>, <span class="i">cx</span><span class="o">.</span><span class="i">Height</span>)
</code></pre></td>
</tr>
</table>
<h3><a name="Getting-Column-Values" class="anchor" href="#Getting-Column-Values">Getting Column Values</a></h3>
<p>Generic tools usually do not expect a column to have a certain type, but must handle all possible types.
In this case, use <code>match</code> by value of the <code>Column.Rows</code> property to get column values.
The following example prints values of the column:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">match</span> <span class="i">cx</span><span class="o">.</span><span class="i">Rows</span> <span class="k">with</span>
| <span class="i">RealColumn</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;floats: %A&quot;</span> <span class="i">v</span><span class="o">.</span><span class="i">Value</span>
| <span class="i">IntColumn</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;ints: %A&quot;</span> <span class="i">v</span><span class="o">.</span><span class="i">Value</span>
| <span class="i">StringColumn</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;strings: %A&quot;</span> <span class="i">v</span><span class="o">.</span><span class="i">Value</span>
| <span class="i">DateColumn</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;dates: %A&quot;</span> <span class="i">v</span><span class="o">.</span><span class="i">Value</span>
| <span class="i">BooleanColumn</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;bools: %A&quot;</span> <span class="i">v</span><span class="o">.</span><span class="i">Value</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>floats: seq [0.0; 0.1; 0.2; 0.3; ...]</code></pre></td></tr></table>
<p>When a column is expected to be of a certain type, use one of the functions <code>ColumnValues.AsReal</code>,
<code>ColumnValues.AsInt</code>, <code>ColumnValues.AsString</code>, <code>ColumnValues.AsDate</code>, <code>ColumnValues.AsBoolean</code>
which evaluate the column array (if it is not evaluated yet) and return the <code>ImmutableArray&lt;'a&gt;</code> instance,
assuming that the column type corresponds the function;
otherwise, if the column type is incorrect, the function fails.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">x</span> <span class="o">:</span> <span class="i">ImmutableArray</span><span class="o">&lt;</span><span class="i">float</span><span class="o">&gt;</span> <span class="o">=</span> <span class="i">cx</span><span class="o">.</span><span class="i">Rows</span><span class="o">.</span><span class="i">AsReal</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>seq [0.0; 0.1; 0.2; 0.3; ...]</code></pre></td></tr></table>
<p>Also, the type <code>ColumnValues</code> allows getting an individual data value by an index; again,
there is a generic approach based on <code>match</code> and a succinct approach when a certain type is expected.</p>
<p>The following example returns a median of the ordered column <code>cx</code> when type is unknown:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">match</span> <span class="i">cx</span><span class="o">.</span><span class="i">Rows</span><span class="o">.</span>[<span class="i">cx</span><span class="o">.</span><span class="i">Height</span> <span class="o">/</span> <span class="n">2</span>] <span class="k">with</span>
| <span class="i">RealValue</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;float: %f&quot;</span> <span class="i">v</span>
| <span class="i">IntValue</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;int: %d&quot;</span> <span class="i">v</span>
| <span class="i">StringValue</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;string: %s&quot;</span> <span class="i">v</span>
| <span class="i">DateValue</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;date: %A&quot;</span> <span class="i">v</span>
| <span class="i">BooleanValue</span> <span class="i">v</span> <span class="k">-&gt;</span> <span class="i">printf</span> <span class="s">&quot;bool: %A&quot;</span> <span class="i">v</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>float: 5.000000</code></pre></td></tr></table>
<p>The next example assumes that the column is real:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">printf</span> <span class="s">&quot;float: %f&quot;</span> (<span class="i">cx</span><span class="o">.</span><span class="i">Rows</span><span class="o">.</span>[<span class="i">cx</span><span class="o">.</span><span class="i">Height</span> <span class="o">/</span> <span class="n">2</span>]<span class="o">.</span><span class="i">AsReal</span>)
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>float: 5.000000</code></pre></td></tr></table>
<h2><a name="Table" class="anchor" href="#Table">Table</a></h2>
<p>The type <code>Angara.Data.Table</code> represents an immutable table.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="i">Table</span> <span class="o">=</span> 
    <span class="k">interface</span> <span class="i">IEnumerable</span><span class="o">&lt;</span><span class="i">Column</span><span class="o">&gt;</span> 
    <span class="c">/// Gets a count of the total number of columns in the table.</span>
    <span class="k">member</span> <span class="i">Count</span> <span class="o">:</span> <span class="i">int</span> <span class="k">with</span> <span class="i">get</span>
    <span class="c">/// Gets a count of the total number of rows in the table.</span>
    <span class="k">member</span> <span class="i">RowsCount</span> <span class="o">:</span> <span class="i">int</span> <span class="k">with</span> <span class="i">get</span>
    <span class="c">/// Gets a column by its index.</span>
    <span class="k">member</span> <span class="i">Item</span> <span class="o">:</span> <span class="i">index</span><span class="o">:</span><span class="i">int</span> <span class="k">-&gt;</span> <span class="i">Column</span> <span class="k">with</span> <span class="i">get</span>
    <span class="c">/// Gets a column by its name.</span>
    <span class="c">/// If there are several columns with same name, returns the fist column having the name.</span>
    <span class="k">member</span> <span class="i">Item</span> <span class="o">:</span> <span class="i">name</span><span class="o">:</span><span class="i">string</span> <span class="k">-&gt;</span> <span class="i">Column</span> <span class="k">with</span> <span class="i">get</span>
    <span class="c">/// Tries to get a column by its index.</span>
    <span class="k">member</span> <span class="i">TryItem</span> <span class="o">:</span> <span class="i">index</span><span class="o">:</span><span class="i">int</span> <span class="k">-&gt;</span> <span class="i">Column</span> <span class="i">option</span> <span class="k">with</span> <span class="i">get</span>
    <span class="c">/// Tries to get a column by its name.</span>
    <span class="c">/// If there are several columns with same name, returns the fist column having the name.</span>
    <span class="k">member</span> <span class="i">TryItem</span> <span class="o">:</span> <span class="i">name</span><span class="o">:</span><span class="i">string</span> <span class="k">-&gt;</span> <span class="i">Column</span> <span class="i">option</span> <span class="k">with</span> <span class="i">get</span>   
</code></pre></td>
</tr>
</table>
<p>The <code>Table.Empty</code> property returns an empty table, i.e. a table that has no columns.</p>
<p>A table can be created from a finite sequence of columns:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">table</span> <span class="o">=</span> 
    <span class="i">Table</span><span class="o">.</span><span class="i">OfColumns</span>
        [ <span class="i">Column</span><span class="o">.</span><span class="i">Create</span> (<span class="s">&quot;x&quot;</span>, <span class="i">xs</span>)
          <span class="i">Column</span><span class="o">.</span><span class="i">Create</span> (<span class="s">&quot;sin(x)&quot;</span>, <span class="i">xs</span> <span class="o">|&gt;</span> <span class="i">Seq</span><span class="o">.</span><span class="i">map</span> <span class="i">sin</span>) ]
</code></pre></td>
</tr>
</table>
<p>To add a column to a table, you can use the static function <code>Table.Add</code> which creates
a new table that has all columns of the original table appended with the given column.
Duplicate names are allowed.
Normally, all columns of a table must have same height which is the table row count;
if the new table column has different height, <code>Table.Add</code> fails.</p>
<p>In the following example the resulting <code>table</code> is identical to the <code>table</code> of the previous example:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">table</span> <span class="o">=</span>
    <span class="i">Table</span><span class="o">.</span><span class="i">Empty</span> 
    <span class="o">|&gt;</span> <span class="i">Table</span><span class="o">.</span><span class="i">Add</span> (<span class="i">Column</span><span class="o">.</span><span class="i">Create</span> (<span class="s">&quot;x&quot;</span>, <span class="i">xs</span>))
    <span class="o">|&gt;</span> <span class="i">Table</span><span class="o">.</span><span class="i">Add</span> (<span class="i">Column</span><span class="o">.</span><span class="i">Create</span> (<span class="s">&quot;sin(x)&quot;</span>, <span class="i">xs</span> <span class="o">|&gt;</span> <span class="i">Seq</span><span class="o">.</span><span class="i">map</span> <span class="i">sin</span>))
</code></pre></td>
</tr>
</table>
<p>To remove columns from a table by names, you can use <code>Table.Remove</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">table2</span> <span class="o">=</span> <span class="i">table</span> <span class="o">|&gt;</span> <span class="i">Table</span><span class="o">.</span><span class="i">Remove</span> [<span class="s">&quot;sin(x)&quot;</span>]
</code></pre></td>
</tr>
</table>
<p>The <code>Table</code> implements the <code>IEnumerable&lt;Column&gt;</code> interface and you can manipulate with a table
as a sequence of columns. For example, the following code removes all columns but first:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">table3</span> <span class="o">=</span> <span class="i">table</span> <span class="o">|&gt;</span> <span class="i">Seq</span><span class="o">.</span><span class="i">take</span> <span class="n">1</span> <span class="o">|&gt;</span> <span class="i">Table</span><span class="o">.</span><span class="i">OfColumns</span>
</code></pre></td>
</tr>
</table>
<p>The following example prints a schema of the table without evalutation of the columns values:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">table</span>
<span class="o">|&gt;</span> <span class="i">Seq</span><span class="o">.</span><span class="i">iteri</span> (<span class="k">fun</span> <span class="i">colIdx</span> <span class="i">col</span> <span class="k">-&gt;</span>
    <span class="i">printfn</span> <span class="s">&quot;%d: %s of type %s&quot;</span> <span class="i">colIdx</span> <span class="i">col</span><span class="o">.</span><span class="i">Name</span>
                (<span class="k">match</span> <span class="i">col</span><span class="o">.</span><span class="i">Rows</span> <span class="k">with</span>
                | <span class="i">RealColumn</span> _    <span class="k">-&gt;</span> <span class="s">&quot;float&quot;</span>
                | <span class="i">IntColumn</span> _     <span class="k">-&gt;</span> <span class="s">&quot;int&quot;</span>
                | <span class="i">StringColumn</span> _  <span class="k">-&gt;</span> <span class="s">&quot;string&quot;</span>
                | <span class="i">DateColumn</span> _    <span class="k">-&gt;</span> <span class="s">&quot;DateTime&quot;</span>
                | <span class="i">BooleanColumn</span> _ <span class="k">-&gt;</span> <span class="s">&quot;bool&quot;</span>))
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>0: x of type float
1: sin(x) of type float</code></pre></td></tr></table>
<p>The <code>Table</code> exposes members <code>Count</code>, <code>Item</code> and <code>TryItem</code> that allow to get a count of the total number of columns in the table
and get a column by its index or name.</p>
<p>In particular, the <code>Table.Item</code> is an indexed property finding a column. If a column is not found,
an exception is thrown; if there are two or more columns with the given name, the first column having the name is returned.</p>
<p>The example gets a name of a table column with index 1:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">col_name</span> <span class="o">=</span> <span class="i">table</span><span class="o">.</span>[<span class="n">1</span>]<span class="o">.</span><span class="i">Name</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>"sin(x)"</code></pre></td></tr></table>
<p>Next, we compute an average of the column named "sin(x)", assuming that it is real:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">sin_avg</span> <span class="o">=</span> <span class="i">table</span><span class="o">.</span>[<span class="s">&quot;sin(x)&quot;</span>]<span class="o">.</span><span class="i">Rows</span><span class="o">.</span><span class="i">AsReal</span> <span class="o">|&gt;</span> <span class="i">Seq</span><span class="o">.</span><span class="i">average</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>0.186473977</code></pre></td></tr></table>


        </div>
        <div class="span3">
          <img src="/Angara.Table/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Angara.Table</li>
            <li><a href="/Angara.Table/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/Angara.Table">Get Library via NuGet</a></li>
            <li><a href="http://github.com/Microsoft/Angara.Table">Source Code on GitHub</a></li>
            <li><a href="/Angara.Table/license.html">License (MIT)</a></li>
            <li><a href="/Angara.Table/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/Angara.Table/tablecolumns.html">Table as Collection of Columns</a></li>
            <li><a href="/Angara.Table/tablerows.html">Table as Collection of Rows</a></li>
            <li><a href="/Angara.Table/matrix.html">Table as Matrix</a></li>
            <li><a href="/Angara.Table/saveload.html">Save and Load (CSV)</a></li>
            <li><a href="/Angara.Table/tableops.html">Table Operations</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/Angara.Table/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/Microsoft/Angara.Table"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
